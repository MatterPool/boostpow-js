'use strict';
var expect = require('chai').expect;
var index = require('../dist/index.js');
var bsv = require('bsv');

var options = {
   graph_api_url: 'http://localhost:3000'
}

describe('Boost Signal Ranker', () => {

   it('search all rank by multiple groups', async () => {
      const sample = [ { boostJobId: '9c9225eae6952577805c52db2324b912c313f05268e9feb39723cbf0b9ca4366.0',
      boostJobProofId: '4a801ca78670d847749d16258ecee47f3b6820c1aee12c7840271e1c36a3faf6.0',
      boostPowString: '7274746d7461000000000000000000000000000000000000000000000000000000000000f374355bf20d1f328a9bedf2d710a4aea8f18de8fa62b36da6a3d8df28dcf188bc95835e0055551c005c5124',
      boostPowMetadata: '7274746d0000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca19046058ffe0000000000000000000000006400000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: 'e82302a424b82c615070d6950464761661326afdf207a4c5253a96b9e479ff28.0',
      boostJobProofId: 'e470e99e26cc9624cc6acc6243bbb0da25b8fc68bb35c35d43927e6492a9b3bc.0',
      boostPowString: '7274746d35333231747365740000000000000000000000000000000000000000000000002b4d2be5295802423194712156822f6bb628bdbb2b329c9f1847b38be57f4e115993835effff001dbbc9a87d',
      boostPowMetadata: '726567676174000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca19046058ffe0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '7d42d8292eca15548d2601057bb6c076fb79a6fe371e3d2a7a038b9031ca8f92.2',
      boostJobProofId: 'de90d82c137e894f391f31f24610b6f704b7eb32634f1638696fcd7072e72e73.0',
      boostPowString: '426165733ebcb9fe837ff4c3eb063e0e378cb06f0d72b3474f66d80f1a51d77fb6d9ebcebc1feaf80b38dbe16ebd7ec47fd025b78ebc45c0d9280a6bd769044a05383165dd76835effff001db7f221eb',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460561e600000000000000006f377a4b0000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '0b33f92e5b01321bde80862ab98aa63e9faa34a39b8ac90f63dfb91be8c35298.0',
      boostJobProofId: 'e1d83d15957fe06ee0bbfb36ae8a3d4759654ed60dda77376cd53d9ba49ece77.0',
      boostPowString: '65707974746e65746e6f6300000000000000000000000000000000000000000000000000009f8bc27587f9fe2442bda91d8b657423b68cfcf0d9c5a4ada012038cf182b37500835effff001dccd3e126',
      boostPowMetadata: '676174000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca19046049790000000000000000072657375617461646c616e6f697469646461000000000000000000000000000000000000' },
    { boostJobId: '7cde2eeebf337182f6ccd5a6b2de14e7f6ab7ce2cb8c7796457c1a3e04c8821a.1',
      boostJobProofId: '6b85704dbbb39302018f41a5ea8737b76ff3410738d1428d7c6f122f27819579.0',
      boostPowString: '4261657307841772e19a840e2d7b5c1b703729375cd3ee9d6ccedf82170b9d5db1d301ae0ade80d57f3500997ce4596354476a808da063f2ad50c012b195241da7e1595901fc825effff001dc19f01e0',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904604979000000000000000005675334c0000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: 'b59a9b29712da100f708226cae08e284e593f39e986c67dd12f0e3ad1f355bb4.1',
      boostJobProofId: '83af733c825a616e74cffb52244d625696a3980eb29f643fa800345c9a027bbe.0',
      boostPowString: '4261657322488a0c5658798aca15575f86176917e874182b50ecb7825c953b9ef28ae14f10ad9db13b7f1e85e4e168e476a72c17a7146159d727b92bb37fc0daac1e6caeb0fb825effff001d5de176eb',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904604979000000000000000007072334c0000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '294b7e9f2c4ef9feea41ffd5ce17292ed13b0e36a89ff8a4d6c12b73309c5969.0',
      boostJobProofId: '5fe5df6419c13626e7bd1e4af6b7964010cf2d112ae7efa0b818c780dbad1c22.0',
      boostPowString: '0000000031000000000000000000000000000000000000000000000000000000000000002368708a1fda2264631415e0d84cad7ca7ccd956401ab474303e460f86baa3d06af1825effff001d2e8b525b',
      boostPowMetadata: '697461000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460482ef0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '9cde3c6350ee41293bfed817072929a689b219c61357812e3837d3b72eb77859.0',
      boostJobProofId: 'dc029cbe4cf63d7e52b16aec7ce35c3ec649df3f2353e30247b1dd2e321d418f.0',
      boostPowString: '3174000032000000000000000000000000000000000000000000000000000000000000008320227f84b3183c4938777d732b1a134bd525917b571e7aebb5215950863ca0f2f0825effff001d43a8b2a5',
      boostPowMetadata: '697461000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460482ef0000000000000000317500006c616e6f69746964646169746100000000000000000000000000000000000000' },
    { boostJobId: 'f8dfef8084182ad0be79395262b766ad396a6766ba7c95b74954e6934807160f.0',
      boostJobProofId: '85a0b14b4d42d345d3f1d4c0ba790e6b6bcf073b121b6d01558779038c8e43fe.0',
      boostPowString: '317400003300000000000000000000000000000000000000000000000000000000000000ea6f7cf093e71ed4afa4d801007166bfeabc9b43a12f6804e5823e38757133d13df0825effff001d80afa362',
      boostPowMetadata: '316761740000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460482ef0000000000000000317500006c616e6f69746964646169746100000000000000000000000000000000000000' },
    { boostJobId: '2713455ffda86fa741d2ce08e53825344d4eb385d76872e60369e5b0fbe0c365.0',
      boostJobProofId: '09e0bfa277bc4826ba4617df2adaae5eaba29b0d8a1ae3206bf8724314d0b02d.0',
      boostPowString: '327400003400000000000000000000000000000000000000000000000000000000000000935e3fe5be791e816f37a7bd9535215de1d1cd2fd39beba16d9d98bd8e875a2ec5ef825effff001df72706ed',
      boostPowMetadata: '326761740000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460482ef0000000000000000327500006c616e6f69746964646169746100000000000000000000000000000000000000' },
    { boostJobId: '3deb547ced949dd2962085a8f22497711e5e30056556143c1df29a0aa03bc8c0.0',
      boostJobProofId: '8ac8ed00831fb7f1a5b9530c234ae7748074e7d7a93ee1ae4ff0aeb19b51e5e3.0',
      boostPowString: '0000000033323339747365542074736f6f42206f6c6c6548000000000000000000000000946cb28060eeb84d58176310531b98f043b9c3c7aa9afb22b153431e9b247471bcd0825effff001d2fb66474',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460446750000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '0138e22adf9f1ad791e8502fdd5217cefad49cc9da21450ddadd104a1b1eb71e.0',
      boostJobProofId: '469a4ea28f555c42e1d4620c3ef789b48e2ec8ac1b7d429f9048ee8860ec1fea.0',
      boostPowString: '0000000033323339747365542074736f6f42206f6c6c6548000000000000000000000000946cb28060eeb84d58176310531b98f043b9c3c7aa9afb22b153431e9b247471f4cf825e80ff7f1ced58f240',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460446750000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '6285945097411d3865098dd85d8d21a03a5daa4c85a171240d95032263a010ec.0',
      boostJobProofId: 'c5244cbfa2abc93665a7b20550d8c121bfa9f7021f760c43cdef634c0618f83b.0',
      boostPowString: '0000000033323339747365542074736f6f42206f6c6c65480000000000000000000000001719080ea4eaa516315f887cde5188129f413e33ca0dd8dafd0c5848948d3bb500cc825effff001d08e93848',
      boostPowMetadata: '67617420796d000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460446750000000000000000000000007d323334203a6f6f66202c27676e697473657427203a65707974207b00000000' },
    { boostJobId: '8f4f8e407c654205ddb0dec5e5a52e7cf93f6e6c858d7bb5ab40c9f13674af6b.0',
      boostJobProofId: '6b531a8fe1189da2b3725b492be0a6a2d97a798063392cc9ae71fca7430ce0cb.0',
      boostPowString: '5254544d33323339747365542074736f6f42206f6c6c6548000000000000000000000000946cb28060eeb84d58176310531b98f043b9c3c7aa9afb22b153431e9b2474710acb825effff001d2150359a',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460446750000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: 'acad1cfc3a9de008ce494be0765890badccdcb059c4bf0ee559a5db1334f014f.1',
      boostJobProofId: 'f92f7aabc01ae351ba11b63b98b52cf172d743bb7909ac8821a74333febbe460.0',
      boostPowString: '0000000066000000000000000000000000000000000000000000000000000000000000003935874794118d6d66c8acb51565ade0ef42c92b3ec18257e60913044b20fa45ad87825effff001d3428e21a',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904603c7140000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: 'ac3b66239fd1767f69b7792af45e7db0189e465232549f28c54f7b2bcf267293.0',
      boostJobProofId: '1705e34ede2c79dc296db9bd8b049a9747e717ed9817c6b7bc1003d528e36e7d.0',
      boostPowString: '0000000032747400000000000000000000000000000000000000000000000000000000003935874794118d6d66c8acb51565ade0ef42c92b3ec18257e60913044b20fa45b87c825effff001d16915d4d',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904603c7140000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '3f18b8957ced6aa605ca2c7987b35f0cf901a4b518a89d04e9025ed6f6d98c99.0',
      boostJobProofId: '56ee78fc0264e861a6611d98bc2f86a99c8abd74d5f5c5f0f6d5b6f2f4b56889.0',
      boostPowString: '00000000656e4f0000000000000000000000000000000000000000000000000000000000bd216886e96ad3a75f526e763b756c336445f42818553cef3ca6eaa46b648b06747b825effff001da75a8c09',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904603bc960000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '7a05f092bb9809a2fb2b02b969696fcb54eec662ffbb57bc61cce0e67d0f28b1.0',
      boostJobProofId: '61d9629dd7bfae300d938e691ec6321b0acf4469a179bc345caa8cbbb8bb629d.0',
      boostPowString: '000000003100000000000000000000000000000000000000000000000000000000000000bd216886e96ad3a75f526e763b756c336445f42818553cef3ca6eaa46b648b066278825effff001d6b89836d',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904603bc960000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '7f7927e1b425869442e8955f909e54964fef0b0426db44c907200aabd986522e.1',
      boostJobProofId: '5fc289d2b04e98ca9ffb0156f5c66b9dac38af65630ea45ac8508a716af1e9b3.0',
      boostPowString: '000000007473657400000000000000000000000000000000000000000000000000000000094b20579e1ccdbd2d04e3da59384d3ab40ab3493da009ce77fb32f082b2a49fb851825effff001d62a3aeb0',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca19046037ef10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '0aee9204867142c6fcaffcc808ff3ddf3f55e3d2de5c7025f315b0ea82e92cca.0',
      boostJobProofId: '0719e67172b0dfbd3cfb575e6644a9ae57eb2f4f1118b3e43f45501bac71d4cb.0',
      boostPowString: '0000000035b8fcb6882f93bddb928c9872198bcdf057ab93ed615ad938f24a63abde5881094b20579e1ccdbd2d04e3da59384d3ab40ab3493da009ce77fb32f082b2a49f5251825effff001db1122064',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca19046037ef10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '1d063058eab7ef5901cc3faa5be6a20a3705e5eec1c516c5f6146e4a9d91df65.0',
      boostJobProofId: '90cfbab6d802925b422380c1e32eb5945c43f1631c842a42850524173164d22e.0',
      boostPowString: '0000000035b8fcb6882f93bddb928c9872198bcdf057ab93ed615ad938f24a63abde5881094b20579e1ccdbd2d04e3da59384d3ab40ab3493da009ce77fb32f082b2a49fc150825e80ff7f1c70cb6db5',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca19046037ef10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '78d72daf64dbfe14d63800bb97b411e3445af4996a8da642fa1b4b8d8903af2b.1',
      boostJobProofId: '0df4da674db4225d88cc3c910ac48a57d65ece62747753e459718fcdf939f36b.0',
      boostPowString: '00000000035604c55ff7d0fdf2f84d85ff60d9eace4ea75be61d9c8b1a47c2b0a89e936b996afa2ab9bae309450c023e81b9c66e55801497c99fb44340f251799d50a260452b825effff001d8c40c842',
      boostPowMetadata: '534541420000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460341a60000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: 'aa12e0e63b0b0aa012b9dd2cd31e6d62faab9cd6f39c76b8c6e8e16bf41c5626.0',
      boostJobProofId: '48730d92a0df988d5ca98edc7a9340305f40c7045c5383faaaad447e3ac5cccc.0',
      boostPowString: '000000006465646e616c207361682074736f6f4200000000000000000000000000000000f6b3e3f7497177d312fe181046a800f0deaf4088ae1b185e541fb80868d038bf4a9e815e0033331ca48ae75e',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904602455e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '1572c4648c0a8470542d24282eb14b7481f99ca97923e7f3a9b87ae210379ba5.0',
      boostJobProofId: '4d1b8782b5d9d03dbe5a209edc1b7c6437f1b6f6dfef6428a3ef5fb9a7f96edf.0',
      boostPowString: '000000003332317473657400000000000000000000000000000000000000000000000000f6b3e3f7497177d312fe181046a800f0deaf4088ae1b185e541fb80868d038bf599b815effff001deda483cc',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904602455e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: 'd6d40ea3b24d4ee36042b7df40cc2f1f1fce2e95b21af9ea3f3d6a75d2d10e48.0',
      boostJobProofId: '9ee86655adfa0aea55eb15f0ad026934f5735f96896d37e911c9ba98a485e627.0',
      boostPowString: '386531327473657400000000000000000000000000000000000000000000000000000000eecc8f3635bd757648df80049702162f4bdf4bb19562a1e5a30fa4f52d2952875b91815effff001db0cce964',
      boostPowMetadata: '676e69747365740000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904602455e0000000000000000386531320000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '6c95300f8326cd3f246d9213a299a6004c45c30e0b0946d9307e8022a668998a.0',
      boostJobProofId: '0efe0a56207334f784d9bdc4b62418ddb2d84885226aaa31537ed29ab5e90b74.0',
      boostPowString: '000000007972726168000000000000000000000000000000000000000000000000000000d45f94025524421e97ade0b9463b9b668c7e1edd14ca2c79c9483d9241f738444b62815effff001d578241d9',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904601f8a20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: 'c425fa6fad9bde7e11a6a3bfda8349aa153b50982d58f52aaf08121d279bdd61.0',
      boostJobProofId: '9b7a48ee23845a1367d5cf39b27edc13955a0325b2451dd9607879dbeb3860f3.0',
      boostPowString: '747874007473657400000000000000000000000000000000000000000000000000000000248ed2821923d4976fa44baf6f8bc5bd5d852fe20b35a062d222776702a254dbde5e815effff001d9b2b618e',
      boostPowMetadata: '6c6f6f7072657474616d202c686374657774000092e4d5ab4bb067f872d28f44d3e5433e56fca1904601ead30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '8187b8b1ad52150a5fc6d1a65d0b33f0648063209d9661725fd4f6a60b8bf6a6.0',
      boostJobProofId: '90f9e6b3c615313988ff1b9906f21daac677a0448958e32d66e2ae20482a38f7.0',
      boostPowString: '0000000072616c6f00000000000000000000000000000000000000000000000000000000f2a2492dbf6934ce06ef43f85ac74e0d3a25baa629af96abea148cb30a30a58c6355815effff001d8a9b581d',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904601dfaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '825f021da008906954deaf20e3a42c3d60e74bac6e7d18177d5b689a2f3d3a1f.0',
      boostJobProofId: 'b567785286e577c10a43da06eb7463f8729144b5181988384a5fc48b905d0629.0',
      boostPowString: '0000000079656e6f6d2e6c65746172000000000000000000000000000000000000000000f2a2492dbf6934ce06ef43f85ac74e0d3a25baa629af96abea148cb30a30a58c0a54815effff001db077a97d',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904601dfaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: 'eb87f37855911d078cfe63934fb78e469825422954309c2c1f336d30d63e7a80.0',
      boostJobProofId: '02b84057a972ebd12f753fa918a2f16eb7897a377f3013506f98d55eee0beee4.0',
      boostPowString: '0000000074736f6f42206f6c6c6548000000000000000000000000000000000000000000f2a2492dbf6934ce06ef43f85ac74e0d3a25baa629af96abea148cb30a30a58c0453815effff001d6b48a997',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904601dfaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: 'e5a9d41b8e78ba08205d707fa7e1eddb817924270cc9d9c09226eb8a03727b20.1',
      boostJobProofId: 'd6a0c1bd06b5fb43304ee22258f861fddbbbc9ba0c4491b1d80ade3382bc7f3b.0',
      boostPowString: '0000000074736f6f42206f6c6c6548000000000000000000000000000000000000000000a63237c19c660a1f841b22817098e72c1c2825b331b7e83d4ccc34b5e620ec96664c805effff001d5b483137',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904600307b0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: 'a12750d6458f10b45bccfdc3059318f3b0855f1e59d7645d8d0b58838527216c.1',
      boostJobProofId: 'fc99150f171fbe4ddf34e3cdb583face0e5f817ca56a576b04712c48b4d8c051.0',
      boostPowString: '0000000021646c726f57206f6c6c65480000000000000000000000000000000000000000e7ff33f301054c57eef6cbb9fd1d06c8fccaa0f098be6fc57eb2899d196f16a0534a805effff001d85fe73ae',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca19046002cf40000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '81cd96cdc85e80583b7306c21a854f7f98352cd7b6faeb42cc3f54820e49f711.1',
      boostJobProofId: '09b3164b82f21623afe704d7c7d757f005043f2ac6995e6b7bc110ed5846b2f9.0',
      boostPowString: '0000000065726f6d20646e612065726f6d0000000000000000000000000000000000000096b9d083d316a0be0eb3de80fa10d285b0249ebab4344dda2fe29137913d584c5548805e0055551cae48d234',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460022ed0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: 'c44f877d6364d1d4e972d1521163cc3649baa5091dab4948f83eb9344cd4ecdb.1',
      boostJobProofId: '910ac637d7859fb3c8510929825887da62cee831a6bfa0b219200287817e0f26.0',
      boostPowString: '0000000065726f6d20646e612065726f6d0000000000000000000000000000000000000096b9d083d316a0be0eb3de80fa10d285b0249ebab4344dda2fe29137913d584c4d44805e80ff7f1cdfa2f503',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460022ed0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '76b969eaeeb17b71a927e3f1d1e2b9ca72010088457227c9c611d17c5a42bdbb.0',
      boostJobProofId: '76183923c63cc3dbd76657d7a9410531b999d72b29537599d1173528e11e2328.0',
      boostPowString: '0000000065726f6d20646e612065726f6d00000000000000000000000000000000000000afcd7960808bef6ff61b983718958293f8711571f5c7fe4bd28bd14154655f634743805effff001ddf8c47a2',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460020c50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '8c670336a273857230b8292bfb4bfede3c08168bb5d8e6e43e0fda1205fee80e.1',
      boostJobProofId: 'd987a24e5281ba63d3f271a3e0c4b19021c23b2a64a6dc4cf4ea92ebb9d2dee3.0',
      boostPowString: '000000003433323100000000000000000000000000000000000000000000000000000000afcd7960808bef6ff61b983718958293f8711571f5c7fe4bd28bd14154655f63a642805effff001dec96861a',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460020c50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '978a6d8ea055f0f932f5a088cc5184b0d4c8fcd720e8c6bf78555ed2efc7939e.0',
      boostJobProofId: '57e0419d38c46631166c78e2809995f2c7ca6c83e0510ce580974e530f045795.0',
      boostPowString: '00000000316f6c6c6548000000000000000000000000000000000000000000000000000096e99e895b02540808373d30149dea7c158d395863e03cac427335ad7d0109e8b341805effff001d2f6db932',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca19046001e800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '4eb545a588a21045495e74449b348ce1eb8f48ac95356c519a2a85a57731a518.0',
      boostJobProofId: 'a4008193dd47a0006a58176a0769b22e7a8bb046550453ac243d3100b201f300.0',
      boostPowString: '0000000035b8fcb6882f93bddb928c9872198bcdf057ab93ed615ad938f24a63abde588119401f4fd9d4279f4ead46f2bd3ccaabce904f7e17367338c08b2a4aefb9877681c06d5effff001de069a11c',
      boostPowMetadata: '00000000000000000000000000000000000000009fb8cb68b8850a13c7438e26e1d277b748be657a0a00000abf07000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '5cb0245a9e44f409b26d357a1f03cc30309e056d7acee769c3050b058dd22cdc.0',
      boostJobProofId: '3b56d3a6118ee837e27e4ee508db1a2919630f485a36cec02ea11051b6712592.0',
      boostPowString: '0000000035b8fcb6882f93bddb928c9872198bcdf057ab93ed615ad938f24a63abde5881ddf4f115036caa271c6e67a059418dd144211949cdf465ef2c10c8e9fb50dcdd6e3c805effff001d482dd7d5',
      boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460014a20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
    { boostJobId: '600834a5c14436aa1b369cf9780994f988a7f0bb30e9e4e0bc6dedc1598e8ede.1',
      boostJobProofId: '6974a4c575c661a918e50d735852c29541a3263dcc4ff46bf90eb9f8f0ec485e.0',
      boostPowString: '78000000325593000000000000000000000000000000000000000000000000000000000084c441284e9e919e73e3318b11dfce8cec8647e0a9a9f2c694e73b4b7bee6bfcd92e805effff001de01e73e2',
      boostPowMetadata: '231200000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460000050000000000000000886600009400000000000000000000000000000000000000000000000000000000000000' } ];

      const ranker = index.BoostSignalRanker.fromArray(sample);

      // Check that all items are returned in order
      let maxDiff = 9999999999999;
      expect(sample.length).to.eql(40);
      expect(ranker.list.length).to.eql(33);
      for (const item of ranker.list) {
         if (item.totalDifficulty > maxDiff) {
            throw new Error('invalid order');
         }
         maxDiff = item.totalDifficulty;
         expect(!!item.entity.getBoostJobId()).to.eql(true);
         expect(!!item.entity.getBoostJobProofId()).to.eql(true);
      }
   });
   it('search group by each type', async () => {
      const sample = [ { boostJobId: '9c9225eae6952577805c52db2324b912c313f05268e9feb39723cbf0b9ca4366.0',
         boostJobProofId: '4a801ca78670d847749d16258ecee47f3b6820c1aee12c7840271e1c36a3faf6.0',
         boostPowString: '7274746d7461000000000000000000000000000000000000000000000000000000000000f374355bf20d1f328a9bedf2d710a4aea8f18de8fa62b36da6a3d8df28dcf188bc95835e0055551c005c5124',
         boostPowMetadata: '7274746d0000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca19046058ffe0000000000000000000000006400000000000000000000000000000000000000000000000000000000000000' },
      { boostJobId: 'e82302a424b82c615070d6950464761661326afdf207a4c5253a96b9e479ff28.0',
         boostJobProofId: 'e470e99e26cc9624cc6acc6243bbb0da25b8fc68bb35c35d43927e6492a9b3bc.0',
         boostPowString: '7274746d35333231747365740000000000000000000000000000000000000000000000002b4d2be5295802423194712156822f6bb628bdbb2b329c9f1847b38be57f4e115993835effff001dbbc9a87d',
         boostPowMetadata: '726567676174000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca19046058ffe0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
      { boostJobId: '7d42d8292eca15548d2601057bb6c076fb79a6fe371e3d2a7a038b9031ca8f92.2',
         boostJobProofId: 'de90d82c137e894f391f31f24610b6f704b7eb32634f1638696fcd7072e72e73.0',
         boostPowString: '426165733ebcb9fe837ff4c3eb063e0e378cb06f0d72b3474f66d80f1a51d77fb6d9ebcebc1feaf80b38dbe16ebd7ec47fd025b78ebc45c0d9280a6bd769044a05383165dd76835effff001db7f221eb',
         boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460561e600000000000000006f377a4b0000000000000000000000000000000000000000000000000000000000000000' },
      { boostJobId: '0b33f92e5b01321bde80862ab98aa63e9faa34a39b8ac90f63dfb91be8c35298.0',
         boostJobProofId: 'e1d83d15957fe06ee0bbfb36ae8a3d4759654ed60dda77376cd53d9ba49ece77.0',
         boostPowString: '65707974746e65746e6f6300000000000000000000000000000000000000000000000000009f8bc27587f9fe2442bda91d8b657423b68cfcf0d9c5a4ada012038cf182b37500835effff001dccd3e126',
         boostPowMetadata: '676174000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca19046049790000000000000000072657375617461646c616e6f697469646461000000000000000000000000000000000000' },
      { boostJobId: '7cde2eeebf337182f6ccd5a6b2de14e7f6ab7ce2cb8c7796457c1a3e04c8821a.1',
         boostJobProofId: '6b85704dbbb39302018f41a5ea8737b76ff3410738d1428d7c6f122f27819579.0',
         boostPowString: '4261657307841772e19a840e2d7b5c1b703729375cd3ee9d6ccedf82170b9d5db1d301ae0ade80d57f3500997ce4596354476a808da063f2ad50c012b195241da7e1595901fc825effff001dc19f01e0',
         boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904604979000000000000000005675334c0000000000000000000000000000000000000000000000000000000000000000' },
      { boostJobId: 'b59a9b29712da100f708226cae08e284e593f39e986c67dd12f0e3ad1f355bb4.1',
         boostJobProofId: '83af733c825a616e74cffb52244d625696a3980eb29f643fa800345c9a027bbe.0',
         boostPowString: '4261657322488a0c5658798aca15575f86176917e874182b50ecb7825c953b9ef28ae14f10ad9db13b7f1e85e4e168e476a72c17a7146159d727b92bb37fc0daac1e6caeb0fb825effff001d5de176eb',
         boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca1904604979000000000000000007072334c0000000000000000000000000000000000000000000000000000000000000000' },
      { boostJobId: '294b7e9f2c4ef9feea41ffd5ce17292ed13b0e36a89ff8a4d6c12b73309c5969.0',
         boostJobProofId: '5fe5df6419c13626e7bd1e4af6b7964010cf2d112ae7efa0b818c780dbad1c22.0',
         boostPowString: '0000000031000000000000000000000000000000000000000000000000000000000000002368708a1fda2264631415e0d84cad7ca7ccd956401ab474303e460f86baa3d06af1825effff001d2e8b525b',
         boostPowMetadata: '697461000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460482ef0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },

      { boostJobId: undefined,
         boostJobProofId: undefined,
         boostPowString: '000000003533323174736574000000000000000000000000000000000000000000000000b1a688961aa5f0f8c59777ef880b4f70aa6bb54a7bf4208da815ccce03d7d08189d9835effff001d853fa90c',
         boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460600370000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
      { boostJobId: undefined,
         boostJobProofId: undefined,
         boostPowString: '000000003533323174736574000000000000000000000000000000000000000000000000b1a688961aa5f0f8c59777ef880b4f70aa6bb54a7bf4208da815ccce03d7d08124d9835e0055551c1e51e2c9',
         boostPowMetadata: '000000000000000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca190460600370000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' },
      { boostJobId: undefined,
         boostJobProofId: undefined,
         boostPowString: '7274746d35333231747365740000000000000000000000000000000000000000000000002b4d2be5295802423194712156822f6bb628bdbb2b329c9f1847b38be57f4e115993835effff001dbbc9a87d',
         boostPowMetadata: '726567676174000000000000000000000000000092e4d5ab4bb067f872d28f44d3e5433e56fca19046058ffe0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000' }
      ];
      const ranker = index.BoostSignalRanker.fromArray(sample);

      const ranked = ranker.group('content');
      expect(ranked[0].totalDifficulty).to.eql(6);

      const expected = [
         {
            field: 'content',
            fieldValue: 'test1235',
            expectedDifficulty: 6,
            allLength: 4
         },
         {
            field: 'content',
            fieldValue: 'at',
            expectedDifficulty: 3,
            allLength: 1
         },

         {
            field: 'content',
            hex: true,
            fieldValue: 'ceebd9b67fd7511a0fd8664f47b3720d6fb08c370e3e06ebc3f47f83feb9bc3e',
            expectedDifficulty: 1,
            allLength: 1
         },
         {
            field: 'content',
            fieldValue: '00000000000000000000000000000000000000000000000000636f6e74656e74',
            hex: true,
            expectedDifficulty: 1,
            allLength: 1
         },

         {
            field: 'content',
            fieldValue: 'ae01d3b15d9d0b1782dfce6c9deed35c372937701b5c7b2d0e849ae172178407',
            hex: true,
            expectedDifficulty: 1,
            allLength: 1
         },

         {
            field: 'content',
            fieldValue: '4fe18af29e3b955c82b7ec502b1874e8176917865f5715ca8a7958560c8a4822',
            hex: true,
            expectedDifficulty: 1,
            allLength: 1

         },
         {
            field: 'content',
            fieldValue: '0000000000000000000000000000000000000000000000000000000000000031',
            hex: true,
            expectedDifficulty: 1,
            allLength: 1

         }
      ];

       // Check that all items are returned in order
       let maxDiff = 9999999999999;
       expect(sample.length).to.eql(10);
       expect(ranked.length).to.eql(7);
       for (const item of ranked) {
          if (item.totalDifficulty > maxDiff) {
             throw new Error('invalid order');
          }
          maxDiff = item.totalDifficulty;
       }

      for (let i = 0; i < expected.length; i++) {
         const hex = expected[i].hex;
         expect(ranked[i].entity[expected[i].field](hex)).to.eql(expected[i].fieldValue);
         expect(ranked[i].totalDifficulty).to.eql(expected[i].expectedDifficulty);
         expect(ranked[i].signals.length).to.eql(expected[i].allLength);
      }

   });
});